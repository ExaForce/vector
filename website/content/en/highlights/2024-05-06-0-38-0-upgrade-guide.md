---
date: "2024-05-06"
title: "0.38 Upgrade Guide"
description: "An upgrade guide that addresses breaking changes in 0.38.0"
authors: ["jszwedko"]
release: "0.38.0"
hide_on_release_notes: false
badges:
  type: breaking change
---

Vector's 0.38.0 release includes a **breaking change**:

1. [Vector now requires mandatory environment variables](#strict-env-vars)

We cover them below to help you upgrade quickly:

## Upgrade guide

### Breaking Change

#### Vector now requires mandatory environment variables {#strict-env-vars}

Vector has the ability to [interpolate environment variables into its
configuration](/docs/reference/configuration/#environment-variables) as a means of templating
configuration. Now, if an environment variable is undefined, 
and no default is set, Vector will output an error and stop. To set a default, use the `-` interpolation syntax.

If you want to have Vector start-up even if an environment variable is undefined you can provide
a default like `${FOO-bar}` to default `FOO` to `bar` if it is unset.

The reason for this change is that users often miss the undefined variable warning and are
confused by Vector not behaving as the expected. Certain characters need to be escaped in regex capture groups to avoid interpolation. For example, instead of using `$1`, you need to add an escape as `$$1`.
